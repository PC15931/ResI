<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Einstellungen - Passen Sie Ihre PrÃ¤ferenzen an">
  <title>Einstellungen â€“ ResI</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Skip Navigation -->
  <a href="#main" class="skip-link">Zum Inhalt springen</a>

  <!-- Navigation -->
  <header class="page-header">
    <div class="logo">ResI</div>
    <nav id="nav" aria-label="Hauptnavigation">
      <ul class="nav-left">
        <li><a href="dashboard.html">ğŸ  Home</a></li>
      </ul>
      <ul class="nav-right">
        <li><a href="daten.html">ğŸ“¤ Datenmanagement</a></li>
        <li><a href="risikoanalyse.html">ğŸ“Š Analysen</a></li>
        <li><a href="benutzer.html">ğŸ‘¤ Benutzerbereich</a></li>
        <li><a href="info.html">â„¹ï¸ Info & Support</a></li>
      </ul>
    </nav>
    <button class="mobile-menu" aria-controls="nav" aria-expanded="false" onclick="toggleMenu()">â˜°</button>
  </header>

  <!-- Sub-Navigation -->
  <nav class="sub-nav" aria-label="UntermenÃ¼ Benutzer">
    <ul>
      <li><a href="benutzer.html">ğŸ‘¤ Profil</a></li>
      <li><a href="benutzer_einstellungen.html" aria-current="page">âš™ï¸ Einstellungen</a></li>
      <li><a href="benutzer_daten.html">ğŸ“‘ Meine Daten</a></li>
    </ul>
  </nav>

  <!-- Inhalt -->
  <main id="main" class="page-content">
    <section class="content-box">
      <div class="page-title-section">
        <h1>Einstellungen</h1>
        <p class="lead">Passen Sie hier Ihre persÃ¶nlichen PrÃ¤ferenzen und Systemoptionen an.</p>
      </div>

      <form id="settingsForm" onsubmit="saveSettings(event)">
        <!-- Sprache & Darstellung -->
        <div class="chart">
          <h2>ğŸŒ Sprache & Darstellung</h2>
          
          <div class="form-group">
            <label for="lang">Sprache:</label>
            <select id="lang" name="lang">
              <option value="de" selected>Deutsch</option>
              <option value="en">English</option>
              <option value="fr">FranÃ§ais</option>
              <option value="es">EspaÃ±ol</option>
              <option value="it">Italiano</option>
            </select>
          </div>

          <div class="form-group">
            <label for="theme">Darstellung:</label>
            <select id="theme" name="theme">
              <option value="light" selected>ğŸŒ Hell</option>
              <option value="dark">ğŸŒ™ Dunkel</option>
              <option value="auto">ğŸ”„ Automatisch (System)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="dateFormat">Datumsformat:</label>
            <select id="dateFormat" name="dateFormat">
              <option value="dd.mm.yyyy" selected>TT.MM.JJJJ (11.12.2025)</option>
              <option value="mm/dd/yyyy">MM/TT/JJJJ (12/11/2025)</option>
              <option value="yyyy-mm-dd">JJJJ-MM-TT (2025-12-11)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="timeFormat">Zeitformat:</label>
            <select id="timeFormat" name="timeFormat">
              <option value="24h" selected>24-Stunden (14:30)</option>
              <option value="12h">12-Stunden (2:30 PM)</option>
            </select>
          </div>
        </div>

        <!-- Benachrichtigungen -->
        <div class="chart">
          <h2>ğŸ”” Benachrichtigungen</h2>
          
          <div class="settings-section">
            <h3>E-Mail-Benachrichtigungen</h3>
            <label class="setting-toggle">
              <input type="checkbox" name="emailNotifications" checked>
              <span class="toggle-slider"></span>
              <span class="setting-label">E-Mail-Benachrichtigungen aktivieren</span>
            </label>
            
            <div class="nested-settings">
              <label class="checkbox-label">
                <input type="checkbox" name="emailNewReports" checked>
                Neue Reports und Analysen
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="emailWarnings" checked>
                Warnungen und Alerts
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="emailWeekly">
                WÃ¶chentliche Zusammenfassung
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="emailMarketing">
                Newsletter und Updates
              </label>
            </div>
          </div>

          <div class="settings-section">
            <h3>Push-Benachrichtigungen</h3>
            <label class="setting-toggle">
              <input type="checkbox" name="pushNotifications" checked>
              <span class="toggle-slider"></span>
              <span class="setting-label">Push-Benachrichtigungen aktivieren</span>
            </label>
            
            <div class="nested-settings">
              <label class="checkbox-label">
                <input type="checkbox" name="pushUrgent" checked>
                Dringende Warnungen
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="pushReports" checked>
                Neue Reports
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="pushWeather">
                Wetterwarnungen
              </label>
            </div>
          </div>

          <div class="settings-section">
            <h3>SMS-Benachrichtigungen</h3>
            <label class="setting-toggle">
              <input type="checkbox" name="smsNotifications">
              <span class="toggle-slider"></span>
              <span class="setting-label">SMS-Benachrichtigungen aktivieren</span>
            </label>
            
            <div class="form-group">
              <label for="phoneNumber">Mobilnummer:</label>
              <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="+49 123 456789">
            </div>
          </div>
        </div>

        <!-- Sicherheit -->
        <div class="chart">
          <h2>ğŸ”’ Sicherheit</h2>
          
          <div class="settings-section">
            <h3>Authentifizierung</h3>
            <label class="setting-toggle">
              <input type="checkbox" name="twoFactor" checked>
              <span class="toggle-slider"></span>
              <span class="setting-label">Zwei-Faktor-Authentifizierung aktivieren</span>
            </label>
            
            <div class="form-group">
              <button type="button" class="btn btn-secondary" onclick="configureTwoFactor()">
                âš™ï¸ Zwei-Faktor-Auth konfigurieren
              </button>
            </div>
          </div>

          <div class="settings-section">
            <h3>Sitzungsverwaltung</h3>
            <label class="setting-toggle">
              <input type="checkbox" name="autoLogout">
              <span class="toggle-slider"></span>
              <span class="setting-label">Automatische Abmeldung nach InaktivitÃ¤t</span>
            </label>
            
            <div class="form-group">
              <label for="logoutTime">Abmelden nach:</label>
              <select id="logoutTime" name="logoutTime">
                <option value="15">15 Minuten</option>
                <option value="30" selected>30 Minuten</option>
                <option value="60">1 Stunde</option>
                <option value="120">2 Stunden</option>
              </select>
            </div>
          </div>

          <div class="settings-section">
            <h3>Login-Sicherheit</h3>
            <label class="checkbox-label">
              <input type="checkbox" name="loginNotifications" checked>
              Login-Benachrichtigung per E-Mail
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="suspiciousActivity" checked>
              Bei verdÃ¤chtiger AktivitÃ¤t warnen
            </label>
          </div>

          <div class="settings-section">
            <h3>Passwort Ã¤ndern</h3>
            <div class="form-group">
              <label for="currentPassword">Aktuelles Passwort:</label>
              <input type="password" id="currentPassword" name="currentPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
            </div>
            <div class="form-group">
              <label for="newPassword">Neues Passwort:</label>
              <input type="password" id="newPassword" name="newPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
            </div>
            <div class="form-group">
              <label for="confirmPassword">Passwort bestÃ¤tigen:</label>
              <input type="password" id="confirmPassword" name="confirmPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
            </div>
            <button type="button" class="btn btn-secondary" onclick="changePassword()">
              ğŸ”‘ Passwort Ã¤ndern
            </button>
          </div>
        </div>

        <!-- Datenschutz -->
        <div class="chart">
          <h2>ğŸ›¡ï¸ Datenschutz</h2>
          
          <div class="settings-section">
            <h3>Datenfreigabe</h3>
            <label class="checkbox-label">
              <input type="checkbox" name="analyticsData">
              Anonyme Nutzungsdaten zur Verbesserung teilen
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="crashReports" checked>
              Crash-Reports automatisch senden
            </label>
          </div>

          <div class="settings-section">
            <h3>Cookies & Tracking</h3>
            <label class="checkbox-label">
              <input type="checkbox" name="essentialCookies" checked disabled>
              Notwendige Cookies (erforderlich)
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="analyticsCookies" checked>
              Analyse-Cookies
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="marketingCookies">
              Marketing-Cookies
            </label>
          </div>

          <div class="settings-section">
            <h3>Datenverwaltung</h3>
            <div class="button-group">
              <button type="button" class="btn btn-secondary" onclick="downloadData()">
                ğŸ“¥ Meine Daten herunterladen
              </button>
              <button type="button" class="btn btn-secondary" onclick="viewPrivacy()">
                ğŸ“„ DatenschutzerklÃ¤rung anzeigen
              </button>
            </div>
          </div>
        </div>

        <!-- Automatisierung -->
        <div class="chart">
          <h2>ğŸ¤– Automatisierung</h2>
          
          <div class="settings-section">
            <h3>Automatische Aufgaben</h3>
            <label class="setting-toggle">
              <input type="checkbox" name="autoBackup" checked>
              <span class="toggle-slider"></span>
              <span class="setting-label">Automatische Datensicherung</span>
            </label>
            
            <div class="form-group">
              <label for="backupFrequency">SicherungshÃ¤ufigkeit:</label>
              <select id="backupFrequency" name="backupFrequency">
                <option value="daily" selected>TÃ¤glich</option>
                <option value="weekly">WÃ¶chentlich</option>
                <option value="monthly">Monatlich</option>
              </select>
            </div>
          </div>

          <div class="settings-section">
            <h3>Automatische Analysen</h3>
            <label class="setting-toggle">
              <input type="checkbox" name="autoAnalysis" checked>
              <span class="toggle-slider"></span>
              <span class="setting-label">Automatische Risikoanalyse bei neuen Daten</span>
            </label>
          </div>

          <div class="settings-section">
            <h3>Reports</h3>
            <label class="setting-toggle">
              <input type="checkbox" name="weeklyReport" checked>
              <span class="toggle-slider"></span>
              <span class="setting-label">WÃ¶chentlichen Report generieren</span>
            </label>
            
            <div class="form-group">
              <label for="reportDay">Report-Tag:</label>
              <select id="reportDay" name="reportDay">
                <option value="monday" selected>Montag</option>
                <option value="friday">Freitag</option>
                <option value="sunday">Sonntag</option>
              </select>
            </div>
          </div>
        </div>

        <!-- API & Integration -->
        <div class="chart">
          <h2>ğŸ”Œ API & Integrationen</h2>
          
          <div class="settings-section">
            <h3>API-Zugang</h3>
            <p>Ihre API-Keys fÃ¼r den programmatischen Zugriff auf ResI:</p>
            
            <div class="api-key-display">
              <code id="apiKey">resi_xxxxxxxxxxxxxxxxxxxxxxxxxx</code>
              <button type="button" class="btn btn-secondary btn-sm" onclick="copyApiKey()">
                ğŸ“‹ Kopieren
              </button>
              <button type="button" class="btn btn-secondary btn-sm" onclick="regenerateApiKey()">
                ğŸ”„ Neu generieren
              </button>
            </div>
            
            <a href="#" class="link">ğŸ“– API-Dokumentation anzeigen</a>
          </div>

          <div class="settings-section">
            <h3>Webhooks</h3>
            <p>Erhalten Sie Echtzeit-Benachrichtigungen Ã¼ber Webhook-URLs:</p>
            
            <div class="form-group">
              <label for="webhookUrl">Webhook-URL:</label>
              <input type="url" id="webhookUrl" name="webhookUrl" placeholder="https://ihre-domain.de/webhook">
            </div>
            
            <button type="button" class="btn btn-secondary" onclick="testWebhook()">
              ğŸ§ª Webhook testen
            </button>
          </div>
        </div>

        <!-- Speichern -->
        <div class="chart">
          <div class="save-actions">
            <button type="submit" class="btn btn-primary btn-large">
              ğŸ’¾ Einstellungen speichern
            </button>
            <button type="button" class="btn btn-secondary" onclick="resetToDefaults()">
              ğŸ”„ Auf Standard zurÃ¼cksetzen
            </button>
          </div>
          <p class="save-message" id="saveMessage"></p>
        </div>
      </form>
    </section>
  </main>

  <script>
    function toggleMenu() {
      const nav = document.getElementById('nav');
      const trigger = document.querySelector('.mobile-menu');
      const isOpen = nav.classList.toggle('open');
      trigger.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
    }

    function saveSettings(event) {
      event.preventDefault();
      const messageEl = document.getElementById('saveMessage');
      messageEl.textContent = 'âœ“ Einstellungen erfolgreich gespeichert!';
      messageEl.style.color = 'green';
      
      setTimeout(() => {
        messageEl.textContent = '';
      }, 3000);
    }

    function configureTwoFactor() {
      alert('Zwei-Faktor-Authentifizierung Konfiguration (Simulation)');
    }

    function changePassword() {
      const current = document.getElementById('currentPassword').value;
      const newPass = document.getElementById('newPassword').value;
      const confirm = document.getElementById('confirmPassword').value;
      
      if (!current || !newPass || !confirm) {
        alert('Bitte fÃ¼llen Sie alle Felder aus.');
        return;
      }
      
      if (newPass !== confirm) {
        alert('Die PasswÃ¶rter stimmen nicht Ã¼berein.');
        return;
      }
      
      alert('Passwort erfolgreich geÃ¤ndert (Simulation)');
      document.getElementById('currentPassword').value = '';
      document.getElementById('newPassword').value = '';
      document.getElementById('confirmPassword').value = '';
    }

    function downloadData() {
      alert('Datenexport wird vorbereitet... Sie erhalten eine E-Mail, wenn der Download bereit ist.');
    }

    function viewPrivacy() {
      window.open('#', '_blank');
    }

    function copyApiKey() {
      const apiKey = document.getElementById('apiKey').textContent;
      navigator.clipboard.writeText(apiKey).then(() => {
        alert('API-Key in Zwischenablage kopiert!');
      });
    }

    function regenerateApiKey() {
      if (confirm('MÃ¶chten Sie wirklich einen neuen API-Key generieren? Der alte wird ungÃ¼ltig.')) {
        alert('Neuer API-Key wurde generiert (Simulation)');
      }
    }

    function testWebhook() {
      const url = document.getElementById('webhookUrl').value;
      if (!url) {
        alert('Bitte geben Sie eine Webhook-URL ein.');
        return;
      }
      alert('Test-Webhook wurde gesendet an: ' + url);
    }

    function resetToDefaults() {
      if (confirm('MÃ¶chten Sie alle Einstellungen auf die Standardwerte zurÃ¼cksetzen?')) {
        document.getElementById('settingsForm').reset();
        alert('Einstellungen wurden zurÃ¼ckgesetzt.');
      }
    }
  </script>
</body>
</html>